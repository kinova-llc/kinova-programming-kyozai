---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="データの保存について学ぼう - 初心者向け Webアプリ開発講座">
  <div class="container mx-auto px-4 py-12">
    <div class="max-w-4xl mx-auto">
      
      <!-- ヘッダーセクション -->
      <div class="bg-gradient-to-r from-kinova-teal to-kinova-orange rounded-lg shadow-lg overflow-hidden mb-12">
        <div class="p-8 text-white">
          <div class="flex items-center gap-2 mb-4">
            <span class="text-sm bg-white/20 px-3 py-1 rounded-full">データベース入門</span>
            <span class="text-sm">2025年1月20日</span>
          </div>
          <h1 class="text-4xl font-bold mb-4">データの保存について学ぼう</h1>
          <p class="text-xl opacity-90 mb-6">
            Webアプリで扱うデータをどのように保存すればよいのか？実際のタスク管理アプリを例に、分かりやすく解説します。
          </p>
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 rounded-full bg-white flex items-center justify-center text-kinova-teal">
              <span class="text-xl">👩‍💻</span>
            </div>
            <div>
              <p class="font-medium">Kinova編集部</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 目次 -->
      <div class="bg-white rounded-lg shadow-md p-6 mb-12">
        <h2 class="text-xl font-semibold mb-4 text-kinova-gray">目次</h2>
        <ul class="space-y-3">
          <li>
            <a href="#intro" class="flex items-center text-kinova-teal hover:text-kinova-orange transition-colors">
              <span class="w-6 h-6 rounded-full bg-kinova-teal/10 flex items-center justify-center mr-2 text-kinova-teal">1</span>
              データベースとは？
            </a>
          </li>
          <li>
            <a href="#example" class="flex items-center text-kinova-teal hover:text-kinova-orange transition-colors">
              <span class="w-6 h-6 rounded-full bg-kinova-teal/10 flex items-center justify-center mr-2 text-kinova-teal">2</span>
              タスク管理アプリを例に考えてみよう
            </a>
          </li>
          <li>
            <a href="#design" class="flex items-center text-kinova-teal hover:text-kinova-orange transition-colors">
              <span class="w-6 h-6 rounded-full bg-kinova-teal/10 flex items-center justify-center mr-2 text-kinova-teal">3</span>
              データベース設計のポイント
            </a>
          </li>
          <li>
            <a href="#er" class="flex items-center text-kinova-teal hover:text-kinova-orange transition-colors">
              <span class="w-6 h-6 rounded-full bg-kinova-teal/10 flex items-center justify-center mr-2 text-kinova-teal">4</span>
              ER図を使った設計
            </a>
          </li>
          <li>
            <a href="#security" class="flex items-center text-kinova-teal hover:text-kinova-orange transition-colors">
              <span class="w-6 h-6 rounded-full bg-kinova-teal/10 flex items-center justify-center mr-2 text-kinova-teal">5</span>
              データを安全に守るには？
            </a>
          </li>
        </ul>
      </div>

      <!-- 本文 -->
      <div class="space-y-12">
        <!-- データベースとは？ -->
        <section id="intro" class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-kinova-gray mb-6 flex items-center">
            <span class="w-8 h-8 rounded-full bg-kinova-teal text-white flex items-center justify-center mr-3 text-sm">1</span>
            データベースとは？
          </h2>

          <p class="text-gray-700 mb-6">
            データベースは、データを整理して保存するための「倉庫」のようなものです。
            例えば、メモ帳にデータを保存する方法と比べてみましょう。
          </p>

          <div class="bg-gradient-to-r from-blue-100 to-indigo-100 p-6 rounded-lg mb-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="bg-white rounded-lg p-6 border-2 border-red-300">
                <h3 class="text-xl font-semibold text-red-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">❌</span>
                  メモ帳で管理する場合の問題点
                </h3>
                <ul class="space-y-3">
                  <li class="flex items-start">
                    <span class="text-red-500 mr-2">•</span>
                    <span>データが増えると探すのが大変</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-red-500 mr-2">•</span>
                    <span>同じ情報を何度も書く必要がある</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-red-500 mr-2">•</span>
                    <span>データの整合性が保てない</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-red-500 mr-2">•</span>
                    <span>複数人で同時に編集できない</span>
                  </li>
                </ul>

                <div class="mt-4 bg-red-50 p-4 rounded-lg">
                  <p class="text-sm text-red-700">
                    例：ユーザーのタスクをメモ帳で管理する場合
                  </p>
                  <pre class="bg-white p-2 rounded mt-2 text-sm">
田中さん：買い物に行く（2024/1/20まで）
田中さん：レポートを書く（2024/1/25まで）
山田さん：会議の準備（2024/1/21まで）
田中さん：本を返却（2024/1/22まで）
                  </pre>
                </div>
              </div>

              <div class="bg-white rounded-lg p-6 border-2 border-green-300">
                <h3 class="text-xl font-semibold text-green-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">✅</span>
                  データベースで管理するメリット
                </h3>
                <ul class="space-y-3">
                  <li class="flex items-start">
                    <span class="text-green-500 mr-2">•</span>
                    <span>必要なデータをすぐに探せる</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-green-500 mr-2">•</span>
                    <span>データを効率的に保存できる</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-green-500 mr-2">•</span>
                    <span>データの整合性を保てる</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-green-500 mr-2">•</span>
                    <span>複数人で同時に使える</span>
                  </li>
                </ul>

                <div class="mt-4 bg-green-50 p-4 rounded-lg">
                  <p class="text-sm text-green-700">
                    例：データベースでの管理（テーブル形式）
                  </p>
                  <div class="mt-2 overflow-x-auto">
                    <p class="text-sm font-semibold mb-2">ユーザーテーブル</p>
                    <table class="min-w-full bg-white text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ID</th>
                          <th class="p-2">名前</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">田中さん</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">山田さん</td>
                        </tr>
                      </tbody>
                    </table>

                    <p class="text-sm font-semibold mb-2 mt-4">タスクテーブル</p>
                    <table class="min-w-full bg-white text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ID</th>
                          <th class="p-2">ユーザーID</th>
                          <th class="p-2">タスク内容</th>
                          <th class="p-2">期限</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">買い物に行く</td>
                          <td class="p-2 border">2024/1/20</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">レポートを書く</td>
                          <td class="p-2 border">2024/1/25</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- タスク管理アプリを例に考えてみよう -->
        <section id="example" class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-kinova-gray mb-6 flex items-center">
            <span class="w-8 h-8 rounded-full bg-kinova-teal text-white flex items-center justify-center mr-3 text-sm">2</span>
            タスク管理アプリを例に考えてみよう
          </h2>

          <p class="text-gray-700 mb-6">
            実際のタスク管理アプリを例に、どのようにデータを保存すればよいのか考えてみましょう。
            まずは、必要なデータを洗い出してみます。
          </p>

          <div class="bg-gradient-to-r from-purple-100 to-pink-100 p-6 rounded-lg mb-6">
            <div class="bg-white rounded-lg p-6 border-2 border-purple-300">
              <h3 class="text-xl font-semibold text-purple-700 mb-4">
                タスク管理アプリに必要なデータ
              </h3>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h4 class="font-semibold text-purple-700 mb-2">ユーザー情報</h4>
                  <ul class="space-y-2 text-gray-700">
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      ユーザーID（一意の識別子）
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      ユーザー名
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      メールアドレス
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      パスワード
                    </li>
                  </ul>
                </div>

                <div>
                  <h4 class="font-semibold text-purple-700 mb-2">タスク情報</h4>
                  <ul class="space-y-2 text-gray-700">
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      タスクID（一意の識別子）
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      タスクの内容
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      期限
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      担当者（ユーザーID）
                    </li>
                    <li class="flex items-center">
                      <span class="w-4 h-4 bg-purple-100 rounded-full mr-2"></span>
                      ステータス（未完了/完了）
                    </li>
                  </ul>
                </div>
              </div>

              <div class="mt-6 bg-purple-50 p-4 rounded-lg">
                <h4 class="font-semibold text-purple-700 mb-2">なぜ2つのテーブルに分けるの？</h4>
                <p class="text-gray-700 mb-4">
                  「全部一つのテーブルにまとめれば良いのでは？」と思うかもしれません。
                  しかし、以下の理由で分けて管理する方が良いのです：
                </p>
                <ul class="space-y-2">
                  <li class="flex items-start">
                    <span class="text-purple-500 mr-2">1.</span>
                    <span>ユーザー情報が重複して保存されるのを防げる</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-purple-500 mr-2">2.</span>
                    <span>ユーザー情報の更新が1箇所で済む</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-purple-500 mr-2">3.</span>
                    <span>データの整合性が保ちやすい</span>
                  </li>
                </ul>

                <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-white p-4 rounded-lg border border-red-300">
                    <p class="text-sm font-semibold text-red-700 mb-2">❌ 1つのテーブルにまとめた場合</p>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ユーザー名</th>
                          <th class="p-2">メール</th>
                          <th class="p-2">タスク</th>
                          <th class="p-2">期限</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">tanaka@example.com</td>
                          <td class="p-2 border">買い物</td>
                          <td class="p-2 border">2024/1/20</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">tanaka@example.com</td>
                          <td class="p-2 border">レポート</td>
                          <td class="p-2 border">2024/1/25</td>
                        </tr>
                      </tbody>
                    </table>
                    <p class="text-sm text-red-700 mt-2">
                      → ユーザー情報が重複して保存されている
                    </p>
                  </div>

                  <div class="bg-white p-4 rounded-lg border border-green-300">
                    <p class="text-sm font-semibold text-green-700 mb-2">✅ 2つのテーブルに分けた場合</p>
                    <div class="space-y-4">
                      <div>
                        <p class="text-sm">ユーザーテーブル</p>
                        <table class="min-w-full text-sm">
                          <thead class="bg-gray-100">
                            <tr>
                              <th class="p-2">ID</th>
                              <th class="p-2">名前</th>
                              <th class="p-2">メール</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="p-2 border">1</td>
                              <td class="p-2 border">田中さん</td>
                              <td class="p-2 border">tanaka@example.com</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <p class="text-sm">タスクテーブル</p>
                        <table class="min-w-full text-sm">
                          <thead class="bg-gray-100">
                            <tr>
                              <th class="p-2">ID</th>
                              <th class="p-2">ユーザーID</th>
                              <th class="p-2">タスク</th>
                              <th class="p-2">期限</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td class="p-2 border">1</td>
                              <td class="p-2 border">1</td>
                              <td class="p-2 border">買い物</td>
                              <td class="p-2 border">2024/1/20</td>
                            </tr>
                            <tr>
                              <td class="p-2 border">2</td>
                              <td class="p-2 border">1</td>
                              <td class="p-2 border">レポート</td>
                              <td class="p-2 border">2024/1/25</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <p class="text-sm text-green-700 mt-2">
                      → ユーザー情報は1箇所だけに保存
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- データベース設計のポイント -->
        <section id="design" class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-kinova-gray mb-6 flex items-center">
            <span class="w-8 h-8 rounded-full bg-kinova-teal text-white flex items-center justify-center mr-3 text-sm">3</span>
            データベース設計のポイント
          </h2>

          <p class="text-gray-700 mb-6">
            データベースを設計する際の重要なポイントを、具体例を交えて見ていきましょう。
          </p>

          <div class="bg-gradient-to-r from-green-100 to-teal-100 p-6 rounded-lg mb-6">
            <div class="space-y-6">
              <!-- 主キー -->
              <div class="bg-white rounded-lg p-6 border-2 border-green-300">
                <h3 class="text-xl font-semibold text-green-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">🔑</span>
                  主キー（ID）の重要性
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div class="bg-red-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-red-700 mb-2">❌ IDを使わない場合の問題</h4>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ユーザー名</th>
                          <th class="p-2">タスク</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">買い物</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">レポート</td>
                        </tr>
                      </tbody>
                    </table>
                    <ul class="mt-2 space-y-1 text-sm text-red-700">
                      <li>• 同姓同名のユーザーを区別できない</li>
                      <li>• ユーザー名を変更すると全て更新が必要</li>
                      <li>• データの関連付けが難しい</li>
                    </ul>
                  </div>

                  <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-green-700 mb-2">✅ IDを使う場合のメリット</h4>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ID</th>
                          <th class="p-2">ユーザー名</th>
                          <th class="p-2">タスク</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">買い物</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">レポート</td>
                        </tr>
                      </tbody>
                    </table>
                    <ul class="mt-2 space-y-1 text-sm text-green-700">
                      <li>• 各レコードを一意に識別できる</li>
                      <li>• データの更新が容易</li>
                      <li>• 関連するデータを確実に紐付けられる</li>
                    </ul>
                  </div>
                </div>
              </div>

              <!-- 外部キー -->
              <div class="bg-white rounded-lg p-6 border-2 border-teal-300">
                <h3 class="text-xl font-semibold text-teal-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">🔗</span>
                  外部キーでデータを関連付ける
                </h3>

                <p class="text-gray-700 mb-4">
                  外部キーは、テーブル間のデータを関連付けるための仕組みです。
                  タスク管理アプリの例では、タスクテーブルの「ユーザーID」が外部キーとなります。
                </p>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <p class="text-sm font-semibold mb-2">ユーザーテーブル</p>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ID（主キー）</th>
                          <th class="p-2">名前</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">田中さん</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">山田さん</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>

                  <div>
                    <p class="text-sm font-semibold mb-2">タスクテーブル</p>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ID（主キー）</th>
                          <th class="p-2">ユーザーID（外部キー）</th>
                          <th class="p-2">タスク</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">買い物</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">1</td>
                          <td class="p-2 border">レポート</td>
                        </tr>
                        <tr>
                          <td class="p-2 border">3</td>
                          <td class="p-2 border">2</td>
                          <td class="p-2 border">会議準備</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div class="mt-4 bg-teal-50 p-4 rounded-lg">
                  <h4 class="font-semibold text-teal-700 mb-2">外部キーのメリット</h4>
                  <ul class="space-y-2">
                    <li class="flex items-start">
                      <span class="text-teal-500 mr-2">•</span>
                      <span>データの整合性を保てる（存在しないユーザーIDは登録できない）</span>
                    </li>
                    <li class="flex items-start">
                      <span class="text-teal-500 mr-2">•</span>
                      <span>特定のユーザーのタスクを簡単に取得できる</span>
                    </li>
                    <li class="flex items-start">
                      <span class="text-teal-500 mr-2">•</span>
                      <span>データの重複を防げる</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- ER図を使った設計 -->
        <section id="er" class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-kinova-gray mb-6 flex items-center">
            <span class="w-8 h-8 rounded-full bg-kinova-teal text-white flex items-center justify-center mr-3 text-sm">4</span>
            ER図を使った設計
          </h2>

          <p class="text-gray-700 mb-6">
            ER図（Entity-Relationship図）は、データベースの設計を図で表したものです。
            テーブル同士の関係が視覚的に分かるため、設計の際によく使われます。
          </p>

          <div class="bg-gradient-to-r from-yellow-100 to-amber-100 p-6 rounded-lg mb-6">
            <div class="bg-white rounded-lg p-6 border-2 border-yellow-300">
              <h3 class="text-xl font-semibold text-yellow-700 mb-4">
                タスク管理アプリのER図
              </h3>

              <div class="flex justify-center mb-6">
                <div class="bg-gray-50 p-6 rounded-lg">
                  <!-- ER図の簡単な例 -->
                  <div class="flex items-center justify-center gap-8">
                    <div class="border-2 border-blue-400 p-4 rounded-lg bg-white">
                      <h4 class="font-semibold text-blue-700 mb-2">ユーザー</h4>
                      <ul class="text-sm space-y-1">
                        <li>🔑 ID（主キー）</li>
                        <li>📝 ユーザー名</li>
                        <li>📧 メールアドレス</li>
                        <li>🔒 パスワード</li>
                      </ul>
                    </div>

                    <div class="flex flex-col items-center">
                      <div class="border-t-2 border-b-2 border-gray-400 w-20"></div>
                      <div class="my-2 text-gray-600">1 : 多</div>
                      <div class="border-t-2 border-b-2 border-gray-400 w-20"></div>
                    </div>

                    <div class="border-2 border-green-400 p-4 rounded-lg bg-white">
                      <h4 class="font-semibold text-green-700 mb-2">タスク</h4>
                      <ul class="text-sm space-y-1">
                        <li>🔑 ID（主キー）</li>
                        <li>🔗 ユーザーID（外部キー）</li>
                        <li>📝 タスク内容</li>
                        <li>📅 期限</li>
                        <li>✅ ステータス</li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>

              <div class="bg-yellow-50 p-4 rounded-lg">
                <h4 class="font-semibold text-yellow-700 mb-2">ER図の読み方</h4>
                <ul class="space-y-2">
                  <li class="flex items-start">
                    <span class="text-yellow-500 mr-2">•</span>
                    <span>四角い箱は「テーブル」を表します</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-yellow-500 mr-2">•</span>
                    <span>箱の中の項目は「カラム（列）」を表します</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-yellow-500 mr-2">•</span>
                    <span>線は「テーブル間の関係」を表します</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-yellow-500 mr-2">•</span>
                    <span>「1 : 多」は「1人のユーザーが複数のタスクを持てる」ことを表します</span>
                  </li>
                </ul>
              </div>

              <div class="mt-4 bg-orange-50 p-4 rounded-lg">
                <h4 class="font-semibold text-orange-700 mb-2">実践演習：ER図を描いてみよう</h4>
                <p class="text-gray-700 mb-4">
                  以下のような機能を追加する場合、ER図をどのように変更すればよいでしょうか？
                </p>
                <ul class="space-y-2">
                  <li class="flex items-start">
                    <span class="text-orange-500 mr-2">1.</span>
                    <span>タスクにカテゴリー（仕事、勉強、趣味など）を付けられるようにしたい</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-orange-500 mr-2">2.</span>
                    <span>タスクに複数の担当者を割り当てられるようにしたい</span>
                  </li>
                  <li class="flex items-start">
                    <span class="text-orange-500 mr-2">3.</span>
                    <span>タスクにコメントを付けられるようにしたい</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- データを安全に守るには？ -->
        <section id="security" class="bg-white rounded-lg shadow-md p-8">
          <h2 class="text-2xl font-bold text-kinova-gray mb-6 flex items-center">
            <span class="w-8 h-8 rounded-full bg-kinova-teal text-white flex items-center justify-center mr-3 text-sm">5</span>
            データを安全に守るには？
          </h2>

          <p class="text-gray-700 mb-6">
            データベースには重要な情報が保存されるため、適切な保護が必要です。
            具体例を見ながら、基本的な安全対策を学びましょう。
          </p>

          <div class="bg-gradient-to-r from-red-100 to-pink-100 p-6 rounded-lg mb-6">
            <div class="space-y-6">
              <!-- パスワードの保護 -->
              <div class="bg-white rounded-lg p-6 border-2 border-red-300">
                <h3 class="text-xl font-semibold text-red-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">🔒</span>
                  パスワードは暗号化して保存
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div class="bg-red-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-red-700 mb-2">❌ 悪い例</h4>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ユーザー名</th>
                          <th class="p-2">パスワード</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">password123</td>
                        </tr>
                      </tbody>
                    </table>
                    <p class="text-sm text-red-700 mt-2">
                      → パスワードが平文で保存されている
                    </p>
                  </div>

                  <div class="bg-green-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-green-700 mb-2">✅ 良い例</h4>
                    <table class="min-w-full text-sm">
                      <thead class="bg-gray-100">
                        <tr>
                          <th class="p-2">ユーザー名</th>
                          <th class="p-2">パスワード（ハッシュ値）</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td class="p-2 border">田中さん</td>
                          <td class="p-2 border">$2a$10$...</td>
                        </tr>
                      </tbody>
                    </table>
                    <p class="text-sm text-green-700 mt-2">
                      → パスワードが暗号化されている
                    </p>
                  </div>
                </div>
              </div>

              <!-- アクセス制御 -->
              <div class="bg-white rounded-lg p-6 border-2 border-pink-300">
                <h3 class="text-xl font-semibold text-pink-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">🛡️</span>
                  適切なアクセス制御
                </h3>

                <div class="space-y-4">
                  <div class="bg-pink-50 p-4 rounded-lg">
                    <h4 class="font-semibold text-pink-700 mb-2">ユーザーごとのデータアクセス制限</h4>
                    <ul class="space-y-2">
                      <li class="flex items-start">
                        <span class="text-pink-500 mr-2">•</span>
                        <span>自分のタスクだけを見られるようにする</span>
                      </li>
                      <li class="flex items-start">
                        <span class="text-pink-500 mr-2">•</span>
                        <span>他人のタスクは編集できないようにする</span>
                      </li>
                    </ul>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-red-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-red-700 mb-2">❌ 危険な例</h4>
                      <pre class="text-sm bg-gray-800 text-white p-2 rounded">
SELECT * FROM tasks;
                      </pre>
                      <p class="text-sm text-red-700 mt-2">
                        → 全てのタスクが取得できてしまう
                      </p>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg">
                      <h4 class="font-semibold text-green-700 mb-2">✅ 安全な例</h4>
                      <pre class="text-sm bg-gray-800 text-white p-2 rounded">
SELECT * FROM tasks
WHERE user_id = ?;
                      </pre>
                      <p class="text-sm text-green-700 mt-2">
                        → ログインユーザーのタスクのみ取得
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- バックアップ -->
              <div class="bg-white rounded-lg p-6 border-2 border-red-300">
                <h3 class="text-xl font-semibold text-red-700 mb-4 flex items-center">
                  <span class="text-3xl mr-3">💾</span>
                  定期的なバックアップ
                </h3>

                <div class="bg-red-50 p-4 rounded-lg">
                  <h4 class="font-semibold text-red-700 mb-2">バックアップが必要な理由</h4>
                  <ul class="space-y-2">
                    <li class="flex items-start">
                      <span class="text-red-500 mr-2">•</span>
                      <span>システム障害からの復旧</span>
                    </li>
                    <li class="flex items-start">
                      <span class="text-red-500 mr-2">•</span>
                      <span>誤ってデータを削除した場合の復元</span>
                    </li>
                    <li class="flex items-start">
                      <span class="text-red-500 mr-2">•</span>
                      <span>データの長期保存</span>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- まとめ -->
        <div class="bg-white rounded-lg shadow-md p-8 mb-12">
          <h2 class="text-2xl font-semibold text-kinova-gray mb-6">まとめ：データベース設計のポイント</h2>
          
          <p class="text-gray-700 mb-6">
            データベース設計は、アプリケーションの基礎となる重要な部分です。
            以下のポイントを押さえておくと、より良い設計ができます。
          </p>
          
          <div class="bg-gradient-to-r from-kinova-teal to-kinova-orange p-6 rounded-lg text-white mb-6">
            <h3 class="text-xl font-semibold mb-4">今回学んだこと</h3>
            <ul class="space-y-2">
              <li class="flex items-start">
                <span class="bg-white/20 rounded-full w-6 h-6 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">✓</span>
                <span>データは適切に分けて管理する</span>
              </li>
              <li class="flex items-start">
                <span class="bg-white/20 rounded-full w-6 h-6 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">✓</span>
                <span>主キーと外部キーでデータを関連付ける</span>
              </li>
              <li class="flex items-start">
                <span class="bg-white/20 rounded-full w-6 h-6 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">✓</span>
                <span>ER図を使って設計を視覚化する</span>
              </li>
              <li class="flex items-start">
                <span class="bg-white/20 rounded-full w-6 h-6 flex items-center justify-center mr-2 flex-shrink-0 mt-0.5">✓</span>
                <span>データの安全性を確保する</span>
              </li>
            </ul>
          </div>
          
          <p class="text-gray-700 mb-6">
            データベース設計は最初は難しく感じるかもしれませんが、
            実際のアプリケーションを例に考えながら、少しずつ理解を深めていきましょう。
          </p>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  /* スタイルは既存のまま */
</style>